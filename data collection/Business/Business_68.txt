 SAN DIEGO — Seeking control over the way their electricity was generated and paid for, Cape Cod residents banded together two decades ago to bypass the local utility and buy power in bulk. Driven in part by local mandates to shift to green-energy sources, the movement has gained momentum across the country, allowing customers to choose their electricity provider, as they can do with telephone service. A growing number of California’s local governments are offering a program similar to the Cape Cod model, as are communities in New York State, Illinois and other parts of Massachusetts. The model has met growing resistance from traditional retailers of power, which have found profits squeezed as energy-efficient appliances and residential solar installations reduce demand. Now the idea is getting a major test in San Diego, where the City Council is expected to vote this year on whether to adopt the same approach. Having a choice has generally meant lower rates for customers. They can also tell their provider that they want electricity from climate-friendly sources, an option that proponents say has helped speed the construction of solar and wind farms. But that doesn’t mean everyone is a fan. Critics of the San Diego plan — backed by an affiliate of the local utility, the San Diego Gas and Electric Company — have started a political-style ad campaign on social media, raising concern that taxpayers could be on the hook for billions of dollars if the program went wrong. They have made the case that major changes to California’s energy policies gave rise to an energy crisis in 2000 and 2001 that caused rolling blackouts and soaring power bills. And they formed an alliance, the Clean Air Coalition, that includes leaders of organizations funded by the power company, among them a group of African-American pastors. That’s when the campaign became more than Bishop George McKinney could stand. Bishop McKinney, pastor of St. Stephen’s Cathedral Church of God in Christ here for the last 55 years, said he believed that those attacking the program, including fellow African-American clergy members, were doing so only because of financial support from the utility company. “I think that the inner-city residents are being taken advantage of,” the 85-year-old bishop said. “The cost of energy now is escalating in the community. There has to be someone who is willing to speak truth to power.” The move toward such government-run electricity programs, known as community choice aggregation, has been gathering steam over the last year in Southern California, with Los Angeles County adopting the effort and recruiting dozens of cities to enroll. Similar programs have been operating in Northern California for almost a decade. Broad success of the community choice movement in California could contribute to a substantial reshaping of the West’s energy market. Managers of the state’s complex power grid would have to factor in the supply agreements struck by these new energy players while ensuring that service remained reliable. San Diego Gas and Electric, a subsidiary of Sempra Energy, is one of California’s three big shareholder-owned utilities, along with Pacific Gas and Electric and Southern California Edison. Together they serve about 70 percent of California’s electricity customers and have been raising concerns about the impact of government-run utility programs on their businesses. “We support customers’ right to choose an energy provider that best meets their needs,” said Helen Gao, a spokeswoman for the San Diego utility. “At the same time, we have an obligation to protect customers who remain.” When local governments adopt community choice programs, they typically require the traditional utilities to maintain the network of power lines and often the billing for all customers. California programs are usually designed so that customers are automatically enrolled in community choice and must opt out to go back with the utility company. Utilities argue that the required services impose an unfair financial burden on them and ultimately their remaining customers. California regulators are expected to have a proposal by summer’s end about how much community choice programs should pay the power companies in so-called exit fees to make up for the loss of customers. If the fees are too high, though, community choice provides no savings to consumers. If the fees are too low, the utility companies might not be able to cover their costs. San Diego, like dozens of other cities nationwide, proposes to reach 100 percent carbon-free electricity. The city has a target date of 2035. After reviewing feasibility studies, city leaders determined that one of the few ways they could reach their goal was through a community choice program supported by the development of new solar and wind facilities locally and with neighboring California counties. In addition, any cost to carry out the program would be recouped within five years, they said, citing a Northern California county that covered its $2.7 million in expenses within two years. “I’m not saying these guys are bad and we’re the white hats,” Beth Vaughan, executive director of the California Community Choice Association, said about the utility companies. “What I’m saying is times are changing. It makes sense to me that the communities want to have a say.” Mark Pruitt, principal of the Illinois Community Choice Aggregation Network, said savings to ratepayers through the state’s program had diminished over time from as high as 30 percent compared with the utility companies down to 5 percent or less. When community choice programs begin, they have an advantage over utilities: Particularly with the falling prices of solar and wind power, they can often secure wholesale contracts at better terms than the long-term agreements that the incumbents are locked into. In some cases, however, the utilities now offer lower rates in Illinois than the community choice programs, Mr. Pruitt said. Cities there determine each year whether to use the public program or the utility, based on the better deal. But about 50 to 60 percent of electricity customers in the state remain with the community choice programs. “It has forced better practice throughout the utility sector in Illinois,” Mr. Pruitt said. But the critics of San Diego’s community choice proposal said they worried that it could drain the city’s coffers. “It may double the budget at a time when we don’t have the resources that we need,” said the Rev. Gerald Brown, co-chairman of the Clear the Air Coalition. “We don’t want any new taxes or any new rates at all.” Mr. Brown runs a nonprofit organization, the United African American Ministerial Action Council, that receives financial support from San Diego Gas and Electric. He said the support had nothing to do with his criticism of the community choice proposal. He said he was troubled by an estimate that it could cost the city up to $2.8 billion to support the program — a worst-case scenario that the city says it no longer includes in its estimates because it was too far-fetched. Mr. Brown and members of the Clear the Air Coalition also contend that similar government-run utility programs are not producing new alternative-energy projects as they promise. They noted that the utility produced 45 percent of its electricity from carbon-free sources, and argued that community choice programs achieved their climate-friendly goals through purchases of clean energy credits rather than actual generation. “We’re talking about possible environmental fraud,” said Haney Hong, another co-chairman of the coalition and the president and chief executive of the San Diego County Taxpayers Association. “I feel like folks might be sold a bill of goods.” San Diego officials said the city was not including renewable-energy credits in its assumptions in becoming carbon-free. (San Diego Gas and Electric also benefits from renewable-energy credits, but says most reflect power sources created specifically for the utility.) “It’s just a fear-based campaign,” said Nicole Capretz, executive director of the Climate Action Campaign, a group backing the community choice proposal, which she shaped while she was the city’s chief sustainability officer. “The utility is made whole. That’s what’s baffling.” Bishop McKinney said he believed that opponents of the plan had made up their minds prematurely, taking a position that would ultimately harm the disadvantaged and minorities. “I’m going to support the change,” he said, calling it “one possible means of equalizing and bringing justice to the table.”