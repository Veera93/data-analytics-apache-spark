 Two of the nation’s leading gun sellers, Walmart and Dick’s Sporting Goods, took steps on Wednesday to limit their sales of firearms, thrusting themselves into the middle of the polarizing national debate over gun control. Walmart, the biggest gun seller, announced late in the afternoon that it would not sell any gun to anyone under 21 years of age. It also said it would no longer sell items resembling assault-style rifles, including toys and air guns. Early in the day, Dick’s said it was immediately ending sales of all assault-style rifles in its stores. The retailer also said that it would no longer sell high-capacity magazines and would also require any gun buyer to be at least 21, regardless of local laws. Under federal law, a person must be at least 21 to buy a handgun from a firearms dealer. But 18-year-olds can buy semiautomatic rifles and other firearms. The dual announcements, made two weeks after 17 students and staff members were killed in the school shooting in Parkland, Fla., were among the most significant actions taken on guns by corporate America. Both retailers said their decision were a response to the shooting. Earlier, President Trump met at the White House with a bipartisan group of lawmakers and called for a series of gun control measures, some of which the National Rifle Association has vigorously opposed. Walmart and Dick’s acted after a number of major companies moved last week to dissociate themselves from the N.R.A. Hertz car rental, MetLife insurance and Delta Air Lines, among others, publicly ended their relationships with the organization. In a news release late Wednesday, Walmart noted that in 2015 it discontinued the sale of  high-powered rifles, including AR-15-style weapons, in its stores in the United States. But at the time, Walmart sidestepped any controversy involving gun politics, attributing its decision to lower customer demand for the military-style rifles. This time, Walmart directly linked its action to the shooting in Florida, saying, “In light of recent events, we’ve taken an opportunity to review our policy on firearm sales.” Top Walmart executives made the decision and then informed the board, a company spokesman said. Walmart sells guns in roughly half of its nearly 4,000 supercenters, the company said, but the sheer scale of its customer base gives its decision significant heft. Every week, more than 150 million people around the country shop at Walmart. Dick’s decision was announced by Edward Stack, the 63-year-old chief executive whose father founded the store in 1948. Mr. Stack made clear that he was deliberately steering his company directly into the storm over gun reform. “When we saw what happened in Parkland, we were so disturbed and upset,” Mr. Stack said in an interview. “We love these kids and their rallying cry, ‘Enough is enough.’ It got to us.” He added, “We’re going to take a stand and step up and tell people our view and, hopefully, bring people along into the conversation.” The decision drew immediate — and passionate — reaction on social media. By midday, the number of Twitter messages containing Dick’s name had jumped 12,000 percent from the average over the previous 10 days, according to Sprout Social, a social media management, advocacy and analytics software platform. About 79 percent of the tweets had a positive sentiment, Sprout Social said, including supportive messages from Hollywood actors and actresses. But the company’s critics posted their plans to no longer shop at the retailer, some closing their tweets with “#boycott.” Investors did not appear to worry about a backlash, as Dick’s stock spent much of Wednesday trading about 1.8 percent higher before finishing up 0.69 percent. Mr. Stack said Dick’s hoped to move the conversation beyond social media and into the political realm. As part of its stance, the company is calling on elected officials to pass what it called “common sense gun reform”: raising the minimum age to buy guns to 21, banning assault-type weapons and so-called bump stocks, and conducting broader background checks that include mental-health information and previous interactions with law enforcement. This is not the first time that Dick’s has made changes in response to a school massacre. In 2012, after a gunman killed 26 people at Sandy Hook Elementary School in Newtown, Conn., Dick’s removed assault-style rifles from its main stores. But a few months later, the company began carrying the firearms at its outdoor and hunting retail chain, Field &amp; Stream. As of Wednesday morning, the company said, AR-15-style and other semiautomatic rifles will no longer be sold in its 35 Field &amp; Stream stores or on its websites. And this time, Mr. Stack added, the changes will be permanent. Mr. Stack said the retailer had begun scouring its purchase records shortly after the identity of the suspected Parkland killer, Nikolas Cruz, became known. The company soon discovered that it had legally sold a gun to Mr. Cruz in November, though it was not the type used in the school shooting. “But it came to us that we could have been a part of this story,” Mr. Stack said. “We said, ‘We don’t want to be a part of this any longer.’” That response raised rounds of discussions with the company’s top executives and its directors, all of whom backed the decision to take a stand, Mr. Stack said. He said Dick’s remained a staunch supporter of the Second Amendment and would continue to sell a variety of sport and hunting firearms. Although he has never been a member of the N.R.A., Mr. Stack said, he is a gun owner and enjoys trapshooting. But when it comes to selling guns to individuals under 21 or stocking assault-style rifles, Mr. Stack said, his company is done. “We don’t want to be a part of a mass shooting,” he said. The company said that it had not decided what to do with its inventory of assault-style rifles but that they would not be sold in the marketplace. Legal experts said they saw no likely challenges to Dick’s decision to stop selling assault-style rifles. But the decision to stop selling weapons to anyone under 21, however, could be tested in court. Adam Winkler, a professor of constitutional law at the School of Law of the University of California, Los Angeles, said Dick’s could be challenged in lawsuits claiming a violation of laws that bar age discrimination. Although federal civil rights laws do not apply, some states, including New York, prohibit businesses from denying goods and services on the basis of age. “Don’t be surprised if an aggressive attorney general of a gun-friendly state brings an age-discrimination claim against Dick’s,” Professor Winkler wrote in an email response to questions. The company said that it believed its decision was in accordance with the law and that it was instituting the policy immediately.