 Senator Mitch McConnell, the majority leader, has failed in his high-profile push to include a change in congressional campaign spending rules in the new budget bill that lawmakers are set to consider on Friday. But to the dismay of campaign watchdogs, the 2,000-page omnibus spending measure would block other significant efforts to force more disclosure of contributors and to limit increasing political activity by nonprofit organizations. The budget bill would prevent the Internal Revenue Service, a top target of Republican critics, from moving ahead on new rules that could curb the activities of nonprofit advocacy groups that have become much more active in elections and that do not have to disclose the names of their donors. It would also prohibit the Securities and Exchange Commission from instituting new rules requiring corporations to disclose their campaign activity to investors — a change the S.E.C. seemed cool to despite pressure from would-be reformers. “These riders encourage dark money groups to seek to gain even more leverage in our political discourse and our elections,” the Campaign Legal Center, an advocacy group, said in a statement. Fred Wertheimer, president of Democracy 21, another voting rights group, said that in light of the new restrictions, President Obama should issue an executive order requiring companies that hold federal contracts to disclose their campaign activities, one route to forcing many businesses to reveal their political spending. The spending measure prohibits any attempt to force those who bid on federal contracts to disclose contributions, but it does not cover those already doing business with the government. A proposal to block such an executive order did not make it into the budget bill.  The change sought by Mr. McConnell, the Kentucky Republican, had been proposed previously and would have made it easier for committees like the Republican and Democratic Senate campaign committees to coordinate their activities with preferred candidates. Mr. McConnell, a longtime foe of campaign finance restrictions, said the change would strengthen the parties at a time when outside groups were wielding increasing power in elections. But the provision was dropped in the final stages of negotiations as some House conservatives raised concerns that it would allow the party establishment more leeway to take on candidates who challenge it.