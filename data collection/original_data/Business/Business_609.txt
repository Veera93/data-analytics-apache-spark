 SAN FRANCISCO — It’s an audacious proposal to get Californians out of their cars: a bill in the State Legislature that would allow eight-story buildings near major transit stops, even if local communities object. The idea is to foster taller, more compact residential neighborhoods that wean people from long, gas-guzzling commutes, reducing greenhouse-gas emissions. So it was surprising to see the Sierra Club among the bill’s opponents, since its policy proposals call for communities to be “revitalized or retrofitted” to achieve precisely those environmental goals. The California chapter described the bill as “heavy-handed,” saying it could cause a backlash against public transit and lead to the displacement of low-income residents from existing housing. State Senator Scott Wiener, the bill’s sponsor, responded by accusing the group of “advocating for low-density sprawl.” In a state where debates often involve shades of blue, it’s not uncommon for the like-minded to find themselves at odds. But the tensions over Mr. Wiener’s proposal point to a wider divide in the fight against climate change, specifically how far the law should go to reshape urban lifestyles. Although many cities and states are embracing cleaner sources of electricity and encouraging people to buy electric vehicles, they are having a harder time getting Americans to drive less, something that may be just as important. Transportation  accounts for one-third of the nation’s carbon-dioxide emissions and recently surpassed power plants as its largest contributor to global warming. Even as stricter federal standards push cars to become more fuel efficient, the gains have been steadily offset as Americans drive more. “We can have all the electric vehicles and solar panels in the world, but we won’t meet our climate goals without making it easier for people to live near where they work, and live near transit and drive less,” Mr. Wiener said. Study after study has found that people living in compact cities have a smaller carbon footprint than those in sprawling cities or suburban areas. This is partly because they often live in apartments that require less energy to heat and cool than large single-family homes, but also because they commute shorter distances and are more likely to walk or take public transit. Residents of dense, transit-friendly San Francisco emit an average of just 6.7 tons of carbon dioxide per year, according to a 2015 report from the University of California, Los Angeles. By contrast, the average in the broader Bay Area is 14.6 tons, in part because people drive farther to work. This is true nationwide, too: The Urban Land Institute concluded that policies to promote compact growth — such as building taller apartments around transit centers or adding more housing downtown — could help cut vehicle travel 20 to 40 percent. Most environmental groups see such policies as an important tool, but they are often deeply contentious, even in liberal California. Unlike measures to add wind and solar power to the electric grid, land-use provisions involve wholesale transformations of neighborhoods where people have lived for decades, making the politics of change much more difficult and toxic. What’s more, zoning codes are governed by tens of thousands of municipalities nationwide, making the levers of change more diffuse than they are for regulating cars or electric utilities. “Land use gets very complicated very quickly — you need to tailor different strategies to each individual community,” said Koben Calhoun, a manager at the Rocky Mountain Institute, a nonprofit group that is helping cities track their progress on climate change. “It’s harder to distill into a simple message.” In the past, researchers studying public opinion have found that, as one survey from 2000 put it, Americans will support action on climate change “as long as these initiatives do not demand a significant alteration of lifestyle,” such as driving less. But Mr. Wiener and others are betting that this attitude is shifting, particularly among young people. His recent bill would pre-empt local zoning rules and allow developers to build apartment buildings up to 85 feet tall within a half-mile of train stations and a quarter-mile of high-frequency bus stops. The law applies only to parcels already zoned for residential use, and city rules like historic-building protections and affordable-housing requirements would still apply. But localities would be prevented from restricting such areas to single-family homes. In Mr. Wiener’s view, local activists and homeowners  too often use zoning codes to prevent apartments from being built in California’s cities, a dynamic that has worsened the state’s housing shortage. Michael Brune, the executive director of the Sierra Club’s national organization, said Mr. Wiener’s bill went too far in overriding residents’ say over neighborhood development. “We are hopeful that this legislation could be designed in such a way that is successful at increasing urban infill but does it in a way that doesn’t eliminate local voices,” Mr. Brune said. “It can be challenging to get this right.” In California, the fight over denser development has been complicated by the state’s housing crisis. About a third of the state’s six million renters pay more than half of their monthly income on rent, according to census figures. Homelessness is rising throughout the state, and about one in five residents in the state lives in poverty once housing costs are factored in — the highest poverty rate in the nation. Mr. Wiener, who has pushed for various housing bills in both the State Senate and in his previous job on the San Francisco Board of Supervisors, said his bill would help reduce housing costs by speeding up construction and alleviating a housing shortage that has plagued the state for decades. High housing costs are also a culprit behind the state’s longer commutes. In the Bay Area, about 5 percent of commuters spend more than 90 minutes traveling to work, compared with 3 percent nationwide, according to an analysis of census data by the Brookings Institution. But lower- and even middle-income residents fear being evicted or priced out of their neighborhoods, making them resist development. Some of Mr. Wiener’s most vocal opposition has come from anti-gentrification and tenants’ rights groups that see his plan as a socioeconomic makeover backed by the real estate industry. Mr. Wiener said late last month that he was amending the bill to add provisions to restrict demolition and tenant displacement. Hearings are expected in the coming weeks. In part because of the vexed politics, states have often taken a lighter approach to promoting density, using carrots rather than sticks. In the Northeast, at least six states — Connecticut, Delaware, Maryland, Maine, New Jersey and New York — have adopted goals of sharply slowing the growth in vehicle miles traveled in the coming decades. Their plans typically envision financial incentives for revitalizing downtown areas and encouraging greater density. California tried an incentive approach to density with the Sustainable Communities Act, a sweeping bill passed in 2008. But some experts say it did not go nearly far enough to change the state’s urban sprawl or car culture. California has made impressive strides in solar and wind power and its push for electric vehicles. But the combination of high housing costs and rising commute times threatens to keep the state from achieving its ambitious target of cutting emissions 40 percent below 1990 levels by 2030. Last year, the California Air Resources Board estimated that meeting those goals would require a 7 percent cut in vehicle miles traveled by 2030, compared with levels that the agency projects would otherwise be reached under current policy. That would be 1.5 fewer miles per day for the average person. “Land use is so fundamental to everything,” said Ethan Elkind, director of the climate program at the Center for Law, Energy and the Environment at the University of California, Berkeley. “And it’s one of the areas where California is lagging.”