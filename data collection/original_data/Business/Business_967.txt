 SAN FRANCISCO — Google did not break the law when it fired an engineer who wrote a memo critical of the company’s diversity efforts, a lawyer for a federal labor agency said. Last year, James Damore, a little-known engineer on Google’s search infrastructure team, incited outrage at the company and across Silicon Valley for making an argument that seemed to rationalize the pay and opportunity gap between genders at technology companies. Before he was fired by Google, Mr. Damore filed a complaint with the National Labor Relations Board saying that the company had violated his right to engage in concerted activity to address a workplace problem. But Jayme L. Sophir, an associate general counsel at the labor agency, said that Google’s actions were acceptable because they made clear that Mr. Damore was being fired for comments that advanced stereotypes — not for speaking out about the company. The decision was published on Jan. 16 but was not made public until Thursday. Google made clear that Mr. Damore had violated its policies on harassment and discrimination when he argued, for example, that women were more prone to “neuroticism,” meaning that they exhibited higher anxiety and a lower tolerance for stress, the labor agency said. “Employers have a strong interest in promoting diversity and encouraging employees across diverse demographic groups to thrive in their workplaces. In furtherance of these legitimate interests, employers must be permitted to ‘nip in the bud’ the kinds of employee conduct that could lead to a ‘hostile workplace,’ rather than waiting until an actionable hostile workplace has been created before taking action,” Ms. Sophir wrote. The decision said numerous Google employees had complained to human relations about Mr. Damore’s memo and two potential engineering candidates withdrew their names from consideration because of what he wrote. Google declined to comment on Friday, while Mr. Damore and his lawyer did not respond to emails seeking comment. Mr. Damore and his lawyer withdrew his labor complaint about a week after the memo was published in January. Earlier in January, Mr. Damore sued Google for workplace discrimination, claiming that Google is biased against white men with conservative views. The suit, filed along with another former Google employee, also claims that the company uses illegal quotas to hire women and minorities.