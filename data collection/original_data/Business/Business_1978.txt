 Over the past few decades, some of the largest companies in the United States made a big bet: By stashing hundreds of billions of dollars of profits offshore, they could slash their taxes and bolster their profits. It would take a generation to see if the strategy would fully pay off, because the law allowed companies only to defer the taxes on overseas earnings, not to permanently avoid them. Would they ever be able to bring the profits back to the United States without incurring huge tax bills? Some 20 years after the tax-avoiding technique became widespread, it is poised to pay off in a big way. The Republican tax bills making their way through the House and Senate would allow companies to bring nearly $3 trillion in profits home, at greatly reduced tax rates. In a tax-overhaul package that would provide the greatest benefits to wealthy individuals and corporations, the so-called repatriation provision stands out. It would give companies a permanent tax break of about half a trillion dollars, rewarding the likes of Google, Apple, Pfizer and General Electric. Corporate America claims that about $3 trillion in profits were generated in places like Bermuda, Grand Cayman and Luxembourg. The tax breaks for bringing home such offshore profits “confirm the central tenet of tax planning that a tax deferred is a tax avoided,” said David Miller, a tax lawyer at Proskauer Rose. “For decades, U.S. multinationals have shifted profits abroad and deferred their taxes on them. If either of the tax bills pass, they will be rewarded for doing so.” To be sure, the legislation erects some potential guardrails against future efforts to shift profits offshore. It would establish a minimum tax abroad on certain types of income — at least 10 percent for the first several years in the Senate version — thus raising the tax bills for many companies on their foreign profits. And regulators in Europe and elsewhere abroad have accelerated their efforts to crack down on such profit shifting out of their countries. President Trump and congressional Republicans argue that it’s important to get companies to bring the money home because it would be used to create jobs — although that didn’t happen the last time lawmakers enacted a similar tax break. Mr. Trump predicted on Tuesday that trillions of dollars would be repatriated — money, he said, that companies currently are “just not able to bring back.” Under current law, American companies pay taxes on their worldwide profits at a rate of 35 percent, the highest statutory rate in the world. But the law has a big caveat: Companies can indefinitely defer the taxes on profits earned abroad — as long as those profits stay overseas. That gives companies a powerful incentive to push as much profit as possible into subsidiaries abroad. Microsoft, Merck, Facebook and other companies attribute large chunks of their profits to entities in low- or zero-tax offshore jurisdictions and therefore enjoy effective tax rates that are nowhere near 35 percent. Apple has been especially adept at moving profits around in tax-advantageous ways. This month, The New York Times reported how the company, after Irish regulators jeopardized its offshore tax arrangement, deployed a new corporate structure on the island of Jersey. The company now has more than $128 billion offshore. But companies can defer the American taxes only as long as their profits remain offshore. If they want to repatriate the cash back to the United States, they must pay taxes at the rate of 35 percent, minus whatever they already paid abroad. A large loophole was opened in 1996 when the Clinton administration’s Treasury Department introduced a rule that allowed different subsidiaries of the same company to move money back and forth without incurring American taxes. That removed one of the main deterrents to companies pushing profits into overseas tax havens — and opened the floodgates. Since then, the share of American companies’ foreign profits attributed to a handful of tax havens has more than doubled. Now, nearly two-thirds of all profits that American companies claim to earn overseas are generated in tax-friendly jurisdictions including Bermuda, Ireland and the Netherlands, according to data compiled by Gabriel Zucman, an economics professor at the University of California, Berkeley. The problem for corporate America, though, is that it can’t easily use that overseas money for things like paying dividends or buying their own shares, techniques that publicly traded companies use to please their investors. Doing so would trigger hefty tax bills. After intense lobbying by big companies, Congress in 2004 passed the American Jobs Creation Act, which provided a one-time tax break for companies that wanted to repatriate their offshore profits. Companies brought home $312 billion at a rate of just 5.25 percent. Although the break was intended to spur investment and hiring, a plethora of studies showed that companies responded by spending billions buying back their shares, lifting their stock prices, and didn’t expand their American work forces. Pfizer, for example, brought home $37 billion at the reduced rates — and shed 10,000 workers. Hewlett-Packard repatriated more than $14 billion, while eliminating more than 14,000 jobs. After that tax break, companies resumed pushing profits offshore — at an even brisker pace. Early in the Obama administration, Cisco Systems led a lobbying effort for yet another tax holiday, which went nowhere. Now, companies have accumulated approximately $2.8 trillion in profits offshore, beyond the reach of American tax authorities and barely touched by other countries, according to the Zion Research Group, a research boutique focused on accounting and tax issues. The proposals in the Republican tax package are different from the 2004 holiday. Under the current versions, all foreign earnings sitting offshore would be considered to be automatically repatriated, and taxes at a reduced rate would be paid over several years. The rates would vary, with earnings held in cash taxed at 10 percent in the Senate version. Other earnings would be taxed at half that rate. Companies would receive credit for some foreign taxes already paid. Zion Research estimated that under the Senate proposal, companies in the Standard &amp; Poor’s 500 would pay about $570 billion less than what they would if they brought the profits home under current law. American companies would no longer owe full taxes on overseas profits. Instead, they would pay taxes at a minimum rate of at least 10 percent on some types of foreign profits — compared with a new, lower rate on domestic earnings of 20 percent. Kristin J. Forbes, a professor at the Massachusetts Institute of Technology’s management school who served in the George W. Bush administration, said the repeated changes to the tax treatment of overseas earning were problematic. “They do cause companies to change behavior and then game the system the way they have been doing,” she said. “Big picture: This isn’t how you’d like to do tax policy.”