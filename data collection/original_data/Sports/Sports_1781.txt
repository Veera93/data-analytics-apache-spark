 Shalane Flanagan ended a four-decade drought for American women in the New York City Marathon on Sunday, dethroning one of the giants of the sport in the process. Flanagan’s unofficial time was 2 hours 26 minutes 53 seconds, fast enough to beat the three-time defending champion Mary Keitany of Kenya and become the first American woman to win since Miki Gorman in 1977.  Geoffrey Kamworor of Kenya, a two-time world champion in the half-marathon, won the men’s race. His time was 2:10:53. Wilson Kipsang of Kenya finished second in 2:10:56, and Lelisa Desisa of Ethiopia was third in 2:11:32. Farther back on the course, some runners had to pause while fire trucks en route to a fire in Manhattan forced the temporary closing of the marathon course on First Avenue. “There were a few times where we slowed down folks while some trucks got across,” said Chris Weiller, a spokesman for the marathon. The footsteps behind Shalane Flanagan quietly dropped off and she could see nothing but history in front of her. It had been 40 years since an American woman won the New York City Marathon. Flanagan, at age 36, was running fast and free. Behind her, but fading fast, Mary Keitany was chasing history, too: The 35-year-old Kenyan had won this race three times in a row. She was attempting to join Grete Waitz as the only women to compile a winning streak of at least four. But Flanagan, motivated and exhilarated, proved untouchable even for Keitany. With tears in her eyes, pointing and shouting (with maybe a few colorful words thrown in), Flanagan won the race with a time of 2 hours 26 minutes 53 seconds. Keitany, who finished second with a time of 2:27:54, hugged Flanagan, who had the American flag already draped over her shoulders. Mamitu Daska, of Ethiopia, competing in the New York City Marathon for the first time, finished third with a time of 2:28:08. Keitany was seeking to cap a career year, in which she won the London Marathon with a blistering time of 2:17:01, a women’s-only record. She had blown away the field here a year ago, winning by a margin (3 minutes 34 seconds) not seen in the women’s race since 1980. It was clear almost from the start, though, that Sunday’s race was not going to follow the same trajectory. A pack of nine competitors consistently jockeyed with Keitany for the lead, including three runners making their New York debut: Kenya’s Betsy Saina; Ethiopia’s Mamitu Daska; and Sara Dossena, an Italian triathlete. After 21 miles, the lead pack whittled to three: Keitany, Daska, and Shalane Flanagan, a 36-year-old from Massachusetts, who finished second in New York in 2010. Keitany finally removed her sleeves. The race was on. The pace picked up, and all three runners continually traded positions. But as they made their way down Fifth Avenue, one runner began to break away. Surprisingly, it was not Keitany. Flanagan entered the Engineers’ Gate into Central Park with a wide berth. In a bizarre decision, Keitany began to drift toward the east side of 5th avenue, away from Flanagan’s tail, before zigzagging back into the customary route. At that point, though, it was too late to catch the runner from Massachusetts — a second-place finisher in the New York marathon in 2010, but unbeatable Sunday. Geoffrey Kamworor peeked over his shoulder in the final stretch, sizing up Wilson Kipsang just a few strides behind him. Kamworor didn’t crack, holding on to win his first New York City Marathon in 2:10:53. It was a breakthrough performance at 26.2 miles for Kamworor, 24, a two-time world champion in the half-marathon. He’s the 14th Kenyan to win the men’s race here. Kipsang finished second in 2:10:56, and Ethiopia’s Lelisa Desisa was third in 2:11:32. By the time the lead pack entered Central Park, last year’s winner, Ghirmay Ghebreslassie of Eritrea, was nowhere in sight. His 2016 performance was the third-fastest time ever recorded on New York’s challenging course, but he faded on Sunday. Meb Keflezighi, 42, finished 11th. It was Keflezighi’s 26th and final race, his 11th New York City Marathon. Keflezighi won here in 2009 and won the Boston Marathon in 2014. ■ First across the finish line. Marcel Hug of Switzerland, a push-rim wheelchair racer, wins all the races — Boston, Chicago and now New York in 2017. Sunday morning’s victory was his third New York City Marathon title. His unofficial time was 1 hour 37 minutes 17 seconds. Manuela Schär, also of Switzerland, won the women’s push-rim wheelchair race, holding off Tatyana McFadden, a five-time winner. ■ How many runners are in the field? More than 50,000. (A precise tally won’t be known until Sunday afternoon, when race officials have determined how many runners failed to make it to the start line — and how many of those runners failed to reach the finish.) Last year, the race had its highest number of finishers, 51,394, setting a record for largest marathon in the world. ■ Where are the start and finish lines? The start is at the foot of the Verrazano-Narrows Bridge in Staten Island. The finish, 26.2 miles later, is on West Drive in Central Park, near Tavern on the Green. ■ How’s  the weather? For marathon running, quite good — cloudy and not too warm. The mist might be annoying to some spectators, but it’s a relief for the runners. ■ What’s the situation with security? It’s more intense this year, because of the terrorist incident in Lower Manhattan. The police said they would use snipers, aviation units, undercover officers and sanitation trucks filled with sand, known as blocker cars, that help prevent someone from driving into crowds of people. When Malika Andrews, a Times reporter, spoke with runners last week, she said that most runners from other countries she spoke with were less concerned about security than were the runners she spoke with from the New York area. Her article is here.